source ~/openrc

PUBLIC_DNS="8.8.8.8"
IP_VERSIONS="4"

R_ROUTER_INTERNAL="private_dvr"
R_ROUTER_PUBLIC="public-ha-router"


PUBLIC_NET_NAME="ext-net"
PUBLIC_NET_PHYSNET="default"
PUBLIC_NET_TYPE="flat"
PUBLIC_SUBNET_ENABLE_DHCP="False"


PUBLIC_SUBNET_PREFIX="22"
PUBLIC_SUBNET_GATEWAY_IP="10.11.0.1"
PUBLIC_SUBNET_ALLOCATION_POOL="start=10.11.2.100,end=10.11.2.140"
PUBLIC_SUBNET_DNS=${PUBLIC_DNS}
PUBLIC_SUBNET_ENABLE_DHCP="False"
PUBLIC_IP_VERSIONS=${IP_VERSIONS}
PUBLIC_SUBNET_NETWORK="10.11.0.0"
PUBLIC_SUBNET_CIDR="22"
PUBLIC_SUBNET_NAME=${PUBLIC_SUBNET_NETWORK}/${PUBLIC_SUBNET_CIDR}


PROXY_NET_NAME="proxy"
PROXY_NET_SEGID="300"

PROXY_SUBNET_PREFIX="24"
PROXY_SUBNET_GATEWAY_IP="172.17.100.1"
PROXY_SUBNET_DNS=${PUBLIC_DNS}
PROXY_SUBNET_IP_VERSIONS=${IP_VERSIONS}
PROXY_SUBNET_NETWORK="172.17.100.0"
PROXY_SUBNET_CIDR="24"
PROXY_SUBNET_NAME=${PROXY_SUBNET_NETWORK}/${PROXY_SUBNET_CIDR}

PROXY_PORT_NAME="proxy_port"
PROXY_PORT_ADDRESS="172.17.100.5"

AZ1_YELLOW_NET_NAME="yellow_az1"
AZ1_YELLOW_NET_SEGID="111"
AZ1_RED_NET_NAME="red_az1"
AZ1_RED_NET_SEGID="121"

AZ2_YELLOW_NET_NAME="yellow_az2"
AZ2_YELLOW_NET_SEGID="112"
AZ2_RED_NET_NAME="red_az2"
AZ2_RED_NET_SEGID="122"


INTERNAL_PHYS_NET_NAME=""
PROJECT_ID="2c5d0f1944fd4ad49c8501df82d6ac51"

AZ1_YELLOW_SUBNET_PREFIX="25"
AZ1_YELLOW_SUBNET_GATEWAY_IP="172.17.228.1"
AZ1_YELLOW_SUBNET_ALLOCATION_POOL_START="172.17.228.3"
AZ1_YELLOW_SUBNET_ALLOCATION_POOL_END="172.17.228.126"
AZ1_YELLOW_SUBNET_DNS=${PUBLIC_DNS}
AZ1_YELLOW_IP_VERSIONS=${IP_VERSIONS}
AZ1_YELLOW_SUBNET_NETWORK="172.17.228.0"
AZ1_YELLOW_SUBNET_CIDR="25"
AZ1_YELLOW_SUBNET_NAME=${AZ1_YELLOW_SUBNET_NETWORK}/${AZ1_YELLOW_SUBNET_CIDR}

AZ2_YELLOW_SUBNET_PREFIX="25"
AZ2_YELLOW_SUBNET_GATEWAY_IP="172.17.228.129"
AZ2_YELLOW_SUBNET_ALLOCATION_POOL_START="172.17.228.131"
AZ2_YELLOW_SUBNET_ALLOCATION_POOL_END="172.17.228.254"
AZ2_YELLOW_SUBNET_DNS=${PUBLIC_DNS}
AZ2_YELLOW_IP_VERSIONS=${IP_VERSIONS}
AZ2_YELLOW_SUBNET_NETWORK="172.17.228.128"
AZ2_YELLOW_SUBNET_CIDR="25"
AZ2_YELLOW_SUBNET_NAME=${AZ2_YELLOW_SUBNET_NETWORK}/${AZ2_YELLOW_SUBNET_CIDR}

AZ1_RED_SUBNET_PREFIX="25"
AZ1_RED_SUBNET_GATEWAY_IP="172.17.234.1"
AZ1_RED_SUBNET_ALLOCATION_POOL_START="172.17.234.3"
AZ1_RED_SUBNET_ALLOCATION_POOL_END="172.17.234.126"
AZ1_RED_SUBNET_DNS=${PUBLIC_DNS}
AZ1_RED_IP_VERSIONS=${IP_VERSIONS}
AZ1_RED_SUBNET_NETWORK="172.17.234.0"
AZ1_RED_SUBNET_CIDR="25"
AZ1_RED_SUBNET_NAME=${AZ1_RED_SUBNET_NETWORK}/${AZ1_RED_SUBNET_CIDR}

AZ2_RED_SUBNET_PREFIX="25"
AZ2_RED_SUBNET_GATEWAY_IP="172.17.234.129"
AZ2_RED_SUBNET_ALLOCATION_POOL_START="172.17.234.131"
AZ2_RED_SUBNET_ALLOCATION_POOL_END="172.17.234.254"
AZ2_RED_SUBNET_DNS=${PUBLIC_DNS}
AZ2_RED_IP_VERSIONS=${IP_VERSIONS}
AZ2_RED_SUBNET_NETWORK="172.17.234.128"
AZ2_RED_SUBNET_CIDR="25"
AZ2_RED_SUBNET_NAME=${AZ2_RED_SUBNET_NETWORK}/${AZ2_RED_SUBNET_CIDR}


RED_LB_NAME="red_pool"
RED_LB_METHOD="ROUND_ROBIN"
RED_LB_SUBNET=${AZ1_RED_SUBNET_NAME}

RED_VIP_NAME="red_vip"
RED_VIP_PROTOCOL_PORT="80"
RED_VIP_SUBNET=${AZ1_RED_SUBNET_NAME}
RED_VIP_ADDRESS="172.17.234.100"

YELLOW_LB_NAME="yellow_pool"
YELLOW_LB_METHOD="ROUND_ROBIN"
YELLOW_LB_SUBNET=${PROXY_SUBNET_NAME}

YELLOW_VIP_NAME="yellow_vip"
YELLOW_VIP_PROTOCOL_PORT="80"
YELLOW_VIP_SUBNET=${PROXY_SUBNET_NAME}
YELLOW_VIP_ADDRESS="172.17.100.100"

mac_re="([0-9a-f]{2}\:){5}[0-9a-f]{2}"
uuid_re="\|\s*[0-9a-f]{8}-([0-9a-f]{4}-){3}[0-9a-f]{12}\s*\|"
uuid_re1="[0-9a-f]{8}-([0-9a-f]{4}-){3}[0-9a-f]{12}"
qr_re="qr-[0-9a-f]{8}-[0-9a-f]{2}"
tap_re="tap[0-9a-f]{8}-[0-9a-f]{2}"
dlvlan_re="dl_vlan=[0-9]+"
port_num_re="[0-9]+\("

separator() {
    echo -e "\n\n\n+++++++++++++++++++++++++++++++++++++++++\n\n\n"
}

